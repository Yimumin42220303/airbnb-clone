# 게스트 UX 플로우 요약 (문의 → 체크아웃)

## 전체 흐름 한눈에

```
[문의] → [검색·숙소 보기] → [예약 요청] → [호스트 승인] → [결제] → [예약 확정] → [숙박·체크아웃] → [리뷰]
```

---

## 1. 문의 (예약 전)

| 경로 | 설명 |
|------|------|
| **카톡 문의** | 전역 우하단 고정 버튼(카톡문의). 예약 없이 운영자/플랫폼 문의용 |
| **고객 문의(한국)** | 푸터 전화번호 등 (고객 문의처) |
| **숙소 상세 페이지** | "궁금한 점이 있으시면 언제든 문의해 주세요" 문구 — 실제 액션은 카톡/전화 유도 |
| **앱 내 메시지** | **예약이 생긴 뒤에만** 사용 가능. 예약 전 호스트와의 1:1 채팅은 없음 |

→ **예약 전 문의 = 카톡/전화**. 예약 후 문의 = **메시지**(호스트와 대화).

---

## 2. 검색·숙소 보기

| 단계 | 화면 | 설명 |
|------|------|------|
| 진입 | 홈(`/`) 또는 **숙소 검색**(`/search`) | 지역·날짜·인원·가격 등 필터로 검색 |
| 목록 | 검색 결과 | 리스팅 카드 클릭 → 숙소 상세 |
| 상세 | `/listing/[id]` | 사진·설명·가격·리뷰·이용 규칙·호스트 소개. 우측(또는 하단) **예약 폼**(날짜·인원·요금·예약하기) |
| 위시리스트 | `/wishlist` | (로그인 시) 찜한 숙소 모아보기 |

예약하기 클릭 시: 로그인 필요하면 로그인 유도 후 **예약 확인** 페이지로 이동.

---

## 3. 예약 요청 (결제 없음)

| 화면 | 경로 | 내용 |
|------|------|------|
| 예약 확인 | `/booking/confirm` | 일정·인원·요금·예약 진행 방식(3단계) 안내, 예약자 정보(성함·이메일·전화·특별요청) 입력 |
| 제출 | POST 예약 | "예약 요청하기" → **결제 없이** 예약 생성 (`status: pending`) |
| 완료 | `/booking/complete?id=...` | "예약 요청이 접수되었습니다", 진행 스텝(① 완료 → ② 대기), 다음 단계 안내. CTA: 내 예약 보기, 숙소 다시 보기 |

---

## 4. 호스트 승인 대기

- **내 예약** (`/my-bookings`)에서 상태 확인: "호스트 응답 대기", 진행 1/3 단계 표시.
- 호스트가 24시간 이내 **승인** 또는 **거절**.
- 거절 시: 게스트에게 이메일 등으로 안내 (예약 취소).

---

## 5. 호스트 승인 후 → 결제

| 경로 | 내용 |
|------|------|
| 이메일 | "호스트 승인 완료" 메일 + **결제하기** 버튼(24시간 이내 결제 안내) |
| 예약 완료 페이지 | `/booking/complete?id=...` 재방문 시 "호스트가 예약을 승인했습니다" + **결제하기** CTA |
| 내 예약 | "호스트 승인 · 결제 대기", 2/3 단계, **결제하기** / 재결제하기 버튼 |
| 결제 페이지 | `/booking/[id]/pay` — 진행 스텝(3단계) + 숙소 요약 + 결제 금액 + 결제 버튼 |

결제 완료 시 `paymentStatus: paid` → **예약 확정**.

---

## 6. 예약 확정 후 (숙박 전·중)

| 기능 | 설명 |
|------|------|
| **내 예약** | 예약 확정된 일정·숙소·금액 확인. **메시지**, **취소**(정책에 따라), **리뷰**(체크아웃 이후) 버튼 |
| **메시지** | `/messages` — 예약별 대화방 목록. 대화방 선택 시 `/messages/[id]`에서 호스트와 채팅. 체크인·체크아웃 시간, 숙소 규칙 등은 호스트가 메시지로 안내 |
| **결제 완료 직후** | 예약 완료 페이지에서 결제까지 끝난 경우, 대화방이 있으면 **메시지 페이지**로 리다이렉트될 수 있음 |

체크인·체크아웃 **시간/방법**은 앱에서 고정 플로우 없음 → "예약 확정 후 호스트가 안내" 문구대로 **메시지**로 확인.

---

## 7. 체크아웃 이후

| 기능 | 설명 |
|------|------|
| **내 예약** | 해당 예약 카드에 **리뷰 작성** 버튼 노출 (체크아웃일 지난 예약, 아직 리뷰 안 쓴 경우) |
| **리뷰** | 숙소 상세 페이지(`/listing/[id]#review`)로 이동해 리뷰 작성. 작성 완료 후 "리뷰 작성완료" 표시 |
| **취소/환불** | 취소는 내 예약에서 **취소** 버튼. 환불 완료 시 "환불완료" 배지 등으로 표시 |

---

## 8. 화면·경로 정리

| 구간 | 대표 경로 |
|------|-----------|
| 문의(예약 전) | 카톡(전역 버튼), 푸터 문의처 |
| 검색 | `/`, `/search` |
| 숙소 상세 | `/listing/[id]` |
| 예약 확인 | `/booking/confirm` |
| 예약 완료(상태 허브) | `/booking/complete?id=...` |
| 내 예약 | `/my-bookings` |
| 결제 | `/booking/[id]/pay` |
| 메시지 | `/messages`, `/messages/[id]` |
| 리뷰 | `/listing/[id]#review` (내 예약에서 진입) |

---

## 9. 요약 한 줄

**문의(카톡/전화) → 검색·숙소 선택 → 예약 요청(결제 없음) → 호스트 승인 대기 → 승인 후 24시간 이내 결제 → 예약 확정 → 메시지로 체크인/규칙 확인 → 숙박·체크아웃 → (선택) 리뷰 작성.**
